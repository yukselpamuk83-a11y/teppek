import{R as t}from"./vendor-CRKWNzqH.js";const e=t=>{let e;const n=new Set,s=(t,s)=>{const a="function"==typeof t?t(e):t;if(!Object.is(a,e)){const t=e;e=(null!=s?s:"object"!=typeof a||null===a)?a:Object.assign({},e,a),n.forEach(n=>n(e,t))}},a=()=>e,c={setState:s,getState:a,getInitialState:()=>o,subscribe:t=>(n.add(t),()=>n.delete(t))},o=e=t(s,a,c);return c},n=t=>t,s=s=>{const a=(t=>t?e(t):e)(s),c=e=>function(e,s=n){const a=t.useSyncExternalStore(e.subscribe,t.useCallback(()=>s(e.getState()),[e,s]),t.useCallback(()=>s(e.getInitialState()),[e,s]));return t.useDebugValue(a),a}(a,e);return Object.assign(c,a),c},a=t=>t?s(t):s;export{a as c};
